# ЁЯОм /start Command
@bot.message_handler(commands=["start"])
def start(message):
    user_id = message.from_user.id
    args = message.text.split()
    ref_id = int(args[1]) if len(args) > 1 and args[1].isdigit() else None
    
    check_user(user_id, ref_id)

    welcome_text = f"""
ЁЯОм Video Coin Earner Bot рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! ЁЯОм

рдирдорд╕реНрддреЗ {message.from_user.first_name}!

ЁЯУ╣ рд╡реАрдбрд┐рдпреЛ рджреЗрдЦреЛ, рдХреЙрдЗрди рдХрдорд╛рдУ рдФрд░  
ЁЯТ░ рдЕрдкрдирд╛ YouTube рдЪреИрдирд▓ рдореЛрдиреЗрдЯрд╛рдЗрдЬреЗрд╢рди рдХрд░рд╡рд╛рдУ тЬЕ  

ЁЯУМ рдХрдорд╛рдИ рдирд┐рдпрдо:
тАв рдкреНрд░рддреНрдпреЗрдХ рд╡реАрдбрд┐рдпреЛ = {VIDEO_POINTS} рдкреЙрдЗрдВрдЯреНрд╕  
тАв рджреИрдирд┐рдХ рд▓рд┐рдорд┐рдЯ = {DAILY_POINT_LIMIT} рдкреЙрдЗрдВрдЯреНрд╕  

ЁЯСе рд░реЗрдлрд░рд▓ рд╕рд┐рд╕реНрдЯрдо:  
тАв рджреЛрд╕реНрддреЛрдВ рдХреЛ рдЗрдирд╡рд╛рдЗрдЯ рдХрд░реЗрдВ  
тАв рд╣рд░ рдирдП рдпреВрдЬрд╝рд░ рдкрд░ {REFERRAL_POINTS} рдкреЙрдЗрдВрдЯреНрд╕  

тЪая╕П рдорд╣рддреНрд╡рдкреВрд░реНрдг: рдмреЙрдЯ рдпреВрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ рдЧреНрд░реБрдк рдЬреЙрдЗрди рдХрд░рдирд╛ рдЬрд╝рд░реВрд░реА рд╣реИред  

рдЖрдкрдХрд╛ ID: {user_id}
"""

    # Inline keyboard for WebApp
    markup = types.InlineKeyboardMarkup()
    web_btn = types.InlineKeyboardButton("ЁЯЪА Open WebApp", web_app=types.WebAppInfo(WEB_URL))
    markup.add(web_btn)

    bot.send_message(user_id, welcome_text, reply_markup=markup)

    # тЬЕ Reply keyboard with Invite button
    menu = types.ReplyKeyboardMarkup(resize_keyboard=True)
    menu.row("ЁЯУК рдкреНрд░реЛрдлрд╛рдЗрд▓", "ЁЯОБ рдкреЙрдЗрдВрдЯреНрд╕ рдкрд╛рдУ")
    menu.row("ЁЯТ░ Wallet", "ЁЯФЧ Invite Friends")  # тЬЕ Invite button added
    bot.send_message(user_id, "ЁЯСЗ рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдмрдЯрди рд╕реЗ рдЖрдЧреЗ рдмрдврд╝реЗрдВ:", reply_markup=menu)